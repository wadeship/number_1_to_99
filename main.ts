controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.up.isPressed() && controller.B.isPressed()) {
        pause(1000)
    } else if (controller.A.isPressed()) {
        我 += 10
    } else {
        我 += 1
    }
    if (我 > 99) {
        我 = 99
    }
    myCounter.count = 它 * 100 + 我
})
controller.B.onEvent(ControllerButtonEvent.Released, function () {
    if (我 == 猜) {
        info.changeScoreBy(1)
        猜 = randint(1, 99)
        myCounter.count = 0
        我 = 0
        它 = 0
    } else if (我 < 猜) {
        scene.setBackgroundColor(8)
        记忆1 = 我
        pause(1000)
        scene.setBackgroundColor(15)
        if (它 < 猜) {
            记忆2 = 它
            if (它 < 我) {
                它 = randint(我 + 1, 记忆最大 - 1)
            } else {
                它 = randint(它 + 1, 记忆最大 - 1)
            }
        } else {
            记忆3 = 它
            它 = randint(我 + 1, 它 - 1)
        }
    } else {
        scene.setBackgroundColor(4)
        记忆4 = 我
        pause(1000)
        scene.setBackgroundColor(15)
        if (它 < 猜) {
            记忆5 = 它
            它 = randint(它 + 1, 我 - 1)
        } else {
            记忆6 = 它
            if (它 < 我) {
                它 = randint(记忆最小 + 1, 它 - 1)
            } else {
                它 = randint(记忆最小 + 1, 我 - 1)
            }
        }
    }
    pause(100)
    myCounter.count = 它 * 100 + 我
    if (我 != 0) {
        pause(200)
        if (它 < 猜) {
            scene.setBackgroundColor(8)
        } else if (它 > 猜) {
            scene.setBackgroundColor(4)
        } else {
            info.changeLifeBy(-1)
            猜 = randint(0, 99)
            myCounter.count = 0
            我 = 0
            它 = 0
        }
    }
    pause(1000)
    scene.setBackgroundColor(15)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.up.isPressed() && controller.B.isPressed()) {
        pause(1000)
    } else if (controller.A.isPressed()) {
        我 += -10
    } else {
        我 += -1
    }
    if (我 < 0) {
        我 = 0
    }
    myCounter.count = 它 * 100 + 我
})
info.onScore(9, function () {
    game.gameOver(true)
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Math.max(记忆1, Math.max(记忆5, 记忆5)) == 0) {
        记忆最小 = 1
    } else {
        记忆最小 = Math.max(记忆1, Math.max(记忆5, 记忆2))
    }
    if (Math.min(记忆3, Math.min(记忆6, 记忆4)) == 0) {
        记忆最大 = 99
    } else {
        记忆最大 = Math.min(记忆3, Math.min(记忆6, 记忆4))
    }
})
info.onLifeZero(function () {
    game.gameOver(false)
})
let 记忆最小 = 0
let 记忆6 = 0
let 记忆5 = 0
let 记忆4 = 0
let 记忆3 = 0
let 记忆最大 = 0
let 记忆2 = 0
let 猜 = 0
let 记忆1 = 0
let 我 = 0
let 它 = 0
let myCounter: DigitCounter = null
scene.setBackgroundImage(img`
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................111...............................................................................
    ..............................................................................111...............................................................................
    `)
let textSprite = textsprite.create("对手", 15, 1)
textSprite.setPosition(15, 60)
let 你 = textsprite.create("你", 15, 1)
你.setPosition(145, 60)
myCounter = sevenseg.createCounter(SegmentStyle.Narrow, SegmentScale.Full, 4)
info.setScore(0)
info.setLife(3)
它 = 0
我 = 0
记忆1 = 0
猜 = randint(1, 99)
